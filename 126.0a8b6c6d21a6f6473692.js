(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[126],{4126:(t,e,i)=>{"use strict";i.r(e),i.d(e,{SurveyPreviewModule:()=>C});var n=i(2744),o=i(4387),a=i(7927),r=i(4213),s=i.n(r),g=i(4974),p=i(7368),d=i(3604),u=i(2290),l=i(4745),Z=i(7762),c=i(909),h=i(6726),_=i(6239),m=i(1116);function q(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",26),p._uU(2,"Company"),p.qZA(),p.TgZ(3,"th",27),p._uU(4,"Index SMI"),p.qZA(),p.qZA())}function T(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",28),p._uU(2),p.qZA(),p.TgZ(3,"td",29),p._uU(4),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(2),p.Oqu(t.name),p.xp6(2),p.Oqu(t.index_smi_total)}}function A(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",30),p._uU(2," Data tidak Tersedia "),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.uIk("colspan",2))}function f(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",26),p._uU(2,"Company"),p.qZA(),p.TgZ(3,"th",27),p._uU(4,"Strategy"),p.qZA(),p.TgZ(5,"th",27),p._uU(6,"Partnership"),p.qZA(),p.TgZ(7,"th",27),p._uU(8,"Motivation"),p.qZA(),p.TgZ(9,"th",27),p._uU(10,"Competencies"),p.qZA(),p.TgZ(11,"th",27),p._uU(12,"Communication"),p.qZA(),p.TgZ(13,"th",27),p._uU(14,"Technology"),p.qZA(),p.TgZ(15,"th",27),p._uU(16,"Operation"),p.qZA(),p.qZA())}function v(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",28),p._uU(2),p.qZA(),p.TgZ(3,"td",29),p._uU(4),p.qZA(),p.TgZ(5,"td",29),p._uU(6),p.qZA(),p.TgZ(7,"td",29),p._uU(8),p.qZA(),p.TgZ(9,"td",29),p._uU(10),p.qZA(),p.TgZ(11,"td",29),p._uU(12),p.qZA(),p.TgZ(13,"td",29),p._uU(14),p.qZA(),p.TgZ(15,"td",29),p._uU(16),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(2),p.Oqu(t.company),p.xp6(2),p.Oqu(t.dimensi_1),p.xp6(2),p.Oqu(t.dimensi_2),p.xp6(2),p.Oqu(t.dimensi_3),p.xp6(2),p.Oqu(t.dimensi_4),p.xp6(2),p.Oqu(t.dimensi_5),p.xp6(2),p.Oqu(t.dimensi_6),p.xp6(2),p.Oqu(t.dimensi_7)}}function k(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",30),p._uU(2," Data tidak Tersedia "),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.uIk("colspan",8))}function x(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",31),p._uU(2,"No"),p.qZA(),p.TgZ(3,"th",32),p._uU(4,"Dimensi"),p.qZA(),p.TgZ(5,"th",33),p._uU(6,"Kriteria"),p.qZA(),p.TgZ(7,"th",34),p._uU(8,"Current Level"),p.qZA(),p.TgZ(9,"th",34),p._uU(10,"Recomendation"),p.qZA(),p.TgZ(11,"th",30),p._uU(12,"Parameter"),p.qZA(),p.qZA())}function y(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",30),p._uU(2),p.qZA(),p.TgZ(3,"td",28),p._uU(4),p.qZA(),p.TgZ(5,"td",28),p._uU(6),p.qZA(),p.TgZ(7,"td",29),p._uU(8),p.qZA(),p.TgZ(9,"td",29),p._uU(10),p.qZA(),p.TgZ(11,"td",28),p._uU(12),p.qZA(),p.qZA()),2&t){const t=e.$implicit,i=e.rowIndex;p.xp6(2),p.Oqu(i+1),p.xp6(2),p.Oqu(t.dimensi),p.xp6(2),p.Oqu(t.kriteria),p.xp6(2),p.Oqu(t.current_value),p.xp6(2),p.Oqu(t.level),p.xp6(2),p.Oqu(t.parameter)}}function U(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",30),p._uU(2," Data tidak Tersedia "),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.uIk("colspan",6))}const b=function(){return{width:"100%"}},O=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o){this.activeRoute=t,this.service=e,this.messageService=i,this.route=n,this.helper=o,this.survey_token="8b1c0885-7e54-4cba-ac56-bf0cd111c830",this.answer_token="9f94ff44-aecf-4ffe-b1c9-3dc2b9171d2d",this.infoKop=[],this.list1=[],this.list2=[],this.list3=[],this.data1={labels:[],datasets:[]},this.horizontalOptions={indexAxis:"y",plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}},this.survey_token=this.activeRoute.snapshot.queryParamMap.get("survey_token"),this.answer_token=this.activeRoute.snapshot.queryParamMap.get("answer_token"),this.survey_token&&this.survey_token?(this.getInfoKop(),this.getPositioning(),this.getDimensiPositioning(),this.getOfiUser()):this.route.navigate(["/login"])}ngOnInit(){}getInfoKop(){this.survey_token&&this.answer_token&&this.service.info_kop({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{t.data.length>0&&(this.infoKop=t.data,this.infoKop[4].value=new Date(this.infoKop[4].value.replace(" ","T")))},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}getPositioning(){this.survey_token&&this.answer_token&&this.service.smi_positioning({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{if(t.data.length>0){this.list1=t.data,this.data1={labels:[],datasets:[]};let e=JSON.parse(JSON.stringify(this.list1));e.sort((t,e)=>e.index_smi_total-t.index_smi_total),this.data1.labels=e.map(t=>t.name),this.data1.datasets.push({label:"SMI POSITIONING",backgroundColor:"#42A5F5",data:e.map(t=>t.index_smi_total)})}},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}getDimensiPositioning(){this.survey_token&&this.answer_token&&this.service.dimensi_smi_positioning({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{t.data.length>0&&(this.list2=t.data,this.radarData={labels:["Strategy","Partnership","Motivation","Competencies","Communication","Technology","Operation"],datasets:[]},this.list2.forEach(t=>{this.radarData.datasets.push({label:t.company.toUpperCase(),backgroundColor:`rgba(${(0,a.GS)()},0.2)`,borderColor:`rgba(${(0,a.GS)()},1)`,data:[t.dimensi_1,t.dimensi_2,t.dimensi_3,t.dimensi_4,t.dimensi_5,t.dimensi_6,t.dimensi_7]})}))},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}getOfiUser(){this.survey_token&&this.answer_token&&this.service.ofi_user({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{t.data.length>0&&(this.list3=t.data)},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}print(){const t=document.getElementById("printArea");s()(t).then(t=>{const e=208*t.height/t.width,i=t.toDataURL("image/png"),n=new g.default("p","mm","a4");n.addImage(i,"PNG",0,0,208,e),n.save("hasil-penilaian-SMI.pdf")})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(o.gz),p.Y36(d.r),p.Y36(u.ez),p.Y36(o.F0),p.Y36(l.$))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-survey-preview"]],decls:70,vars:31,consts:[["id","printArea",1,"layout-wrapper"],[1,"container-result"],[1,"content"],[1,"kop"],[1,"title-kop"],[2,"font-weight","bold"],[1,"content-kop"],[1,"main-content"],[1,"section_1"],[1,"p-grid","p-fluid"],[1,"p-col-4"],["styleClass","p-datatable-gridlines",3,"value","paginator","rowHover","rows","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"p-col-8","area-bar"],["type","bar",3,"data","options","height"],[1,"section_2"],[1,"p-col-12"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"p-d-flex","p-justify-center",2,"width","50%"],["type","radar",3,"data","options"],[1,"section_3"],[1,"floating-print"],["pButton","","pRipple","","type","button","icon","pi pi-print","iconPos","left","label","Print",1,"p-button-outlined","p-mr-2","p-mb-2","p-button-custom",3,"click"],[2,"width","60%","text-align","center"],[2,"width","40%","text-align","center"],[2,"text-align","left"],[2,"text-align","right"],[2,"text-align","center"],[2,"width","7%","text-align","center"],[2,"width","15%","text-align","center"],[2,"width","20%","text-align","center"],[2,"width","10%","text-align","center"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"h2"),p._uU(6,"SELF ASESMENT SUISTAINABILITY MATURITY INDEX"),p.qZA(),p.TgZ(7,"p",5),p._uU(8),p.qZA(),p.TgZ(9,"p"),p._uU(10),p.qZA(),p.qZA(),p.TgZ(11,"div",6),p.TgZ(12,"table"),p.TgZ(13,"tr"),p.TgZ(14,"td"),p._uU(15,"Tanggal Asesmen"),p.qZA(),p.TgZ(16,"td"),p._uU(17,":"),p.qZA(),p.TgZ(18,"td"),p._uU(19),p.ALo(20,"date"),p.qZA(),p.qZA(),p.TgZ(21,"tr"),p.TgZ(22,"td"),p._uU(23,"User Asesmen"),p.qZA(),p.TgZ(24,"td"),p._uU(25,":"),p.qZA(),p.TgZ(26,"td"),p._uU(27),p.qZA(),p.qZA(),p.TgZ(28,"tr"),p.TgZ(29,"td"),p._uU(30,"Email"),p.qZA(),p.TgZ(31,"td"),p._uU(32,":"),p.qZA(),p.TgZ(33,"td"),p._uU(34),p.qZA(),p.qZA(),p.qZA(),p._UZ(35,"hr"),p.qZA(),p.qZA(),p.TgZ(36,"div",7),p.TgZ(37,"div",8),p.TgZ(38,"div",9),p.TgZ(39,"div",10),p.TgZ(40,"p-table",11,12),p.YNc(42,q,5,0,"ng-template",13),p.YNc(43,T,5,2,"ng-template",14),p.YNc(44,A,3,1,"ng-template",15),p.qZA(),p.qZA(),p.TgZ(45,"div",16),p._UZ(46,"p-chart",17),p.qZA(),p.qZA(),p.qZA(),p.TgZ(47,"div",18),p.TgZ(48,"div",9),p.TgZ(49,"div",19),p.TgZ(50,"p-table",11),p.YNc(51,f,17,0,"ng-template",13),p.YNc(52,v,17,8,"ng-template",14),p.YNc(53,k,3,1,"ng-template",15),p.qZA(),p.qZA(),p.TgZ(54,"div",19),p.TgZ(55,"div",20),p.TgZ(56,"div",21),p._UZ(57,"p-chart",22),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(58,"div",23),p.TgZ(59,"div",9),p.TgZ(60,"div",19),p.TgZ(61,"label",5),p._uU(62,"Opportunity For Improvement "),p.qZA(),p.qZA(),p.TgZ(63,"div",19),p.TgZ(64,"p-table",11),p.YNc(65,x,13,0,"ng-template",13),p.YNc(66,y,13,6,"ng-template",14),p.YNc(67,U,3,1,"ng-template",15),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(68,"div",24),p.TgZ(69,"button",25),p.NdJ("click",function(){return e.print()}),p.qZA(),p.qZA()),2&t&&(p.xp6(8),p.Oqu(e.infoKop.length>0?e.infoKop[0].value:""),p.xp6(2),p.hij("Sektor ",e.infoKop.length>0?e.infoKop[1].value:"",""),p.xp6(9),p.Oqu(e.infoKop.length>0?p.xi3(20,27,e.infoKop[4].value,"medium"):null),p.xp6(8),p.Oqu(e.infoKop.length>0?e.infoKop[2].value:""),p.xp6(7),p.Oqu(e.infoKop.length>0?e.infoKop[3].value:""),p.xp6(6),p.Q6J("value",e.list1)("paginator",!1)("rowHover",!0)("rows",10)("showCurrentPageReport",!0),p.xp6(6),p.Q6J("data",e.data1)("options",e.horizontalOptions)("height","250"),p.xp6(4),p.Q6J("value",e.list2)("paginator",!1)("rowHover",!0)("rows",10)("showCurrentPageReport",!0),p.xp6(7),p.Akn(p.DdM(30,b)),p.Q6J("data",e.radarData)("options",e.radarOptions),p.xp6(7),p.Q6J("value",e.list3)("paginator",!1)("rowHover",!0)("rows",50)("showCurrentPageReport",!0))},directives:[Z.iA,u.jx,c.C,h.Hq,_.H],pipes:[m.uU],styles:[".p-datatable-table .p-datatable-thead tr th{color:#fff;background:#099!important}.kop[_ngcontent-%COMP%]{grid-gap:20px;gap:20px}.kop[_ngcontent-%COMP%], .kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]{display:flex;flex-direction:column}.kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]{grid-gap:0;gap:0;align-items:flex-start}.kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0!important}.kop[_ngcontent-%COMP%]   .content-kop[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:2px solid}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px;gap:20px}.area-bar[_ngcontent-%COMP%]{max-height:500px;background:#fff}.floating-print[_ngcontent-%COMP%]{position:fixed;top:0;right:0;background-color:#f1f1f1;padding:10px;box-shadow:0 2px 5px #0003;z-index:99999999}"]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[o.Bz.forChild(O)],o.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[u.ez],imports:[[n.I,w]]}),t})()}}]);