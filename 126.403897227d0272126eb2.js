(self.webpackChunkmirage=self.webpackChunkmirage||[]).push([[126],{4126:(t,e,n)=>{"use strict";n.r(e),n.d(e,{SurveyPreviewModule:()=>C});var i=n(2744),o=n(4387),a=n(7927),s=n(4213),r=n.n(s),g=n(4974),p=n(7368),d=n(3604),l=n(2290),Z=n(4745),u=n(7762),c=n(909),h=n(1116);function _(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",28),p._uU(2,"Company"),p.qZA(),p.TgZ(3,"th",29),p._uU(4,"Index SMI"),p.qZA(),p.qZA())}function m(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",30),p._uU(2),p.qZA(),p.TgZ(3,"td",31),p._uU(4),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(2),p.Oqu(t.name),p.xp6(2),p.Oqu(t.index_smi_total)}}function q(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",31),p._uU(2," Data tidak Tersedia "),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.uIk("colspan",2))}function A(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",32),p._uU(2,"Company"),p.qZA(),p.TgZ(3,"th",33),p._uU(4,"Strategy"),p.qZA(),p.TgZ(5,"th",33),p._uU(6,"Partnership"),p.qZA(),p.TgZ(7,"th",33),p._uU(8,"Motivation"),p.qZA(),p.TgZ(9,"th",33),p._uU(10,"Competencies"),p.qZA(),p.TgZ(11,"th",33),p._uU(12,"Communication"),p.qZA(),p.TgZ(13,"th",33),p._uU(14,"Technology"),p.qZA(),p.TgZ(15,"th",33),p._uU(16,"Operation"),p.qZA(),p.qZA())}function T(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",30),p._uU(2),p.qZA(),p.TgZ(3,"td",31),p._uU(4),p.qZA(),p.TgZ(5,"td",31),p._uU(6),p.qZA(),p.TgZ(7,"td",31),p._uU(8),p.qZA(),p.TgZ(9,"td",31),p._uU(10),p.qZA(),p.TgZ(11,"td",31),p._uU(12),p.qZA(),p.TgZ(13,"td",31),p._uU(14),p.qZA(),p.TgZ(15,"td",31),p._uU(16),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(2),p.Oqu(t.company),p.xp6(2),p.Oqu(t.dimensi_1),p.xp6(2),p.Oqu(t.dimensi_2),p.xp6(2),p.Oqu(t.dimensi_3),p.xp6(2),p.Oqu(t.dimensi_4),p.xp6(2),p.Oqu(t.dimensi_5),p.xp6(2),p.Oqu(t.dimensi_6),p.xp6(2),p.Oqu(t.dimensi_7)}}function v(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",31),p._uU(2," Data tidak Tersedia "),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.uIk("colspan",8))}function f(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",34),p._uU(2,"No"),p.qZA(),p.TgZ(3,"th",35),p._uU(4,"Dimensions"),p.qZA(),p.TgZ(5,"th",36),p._uU(6,"Criteria"),p.qZA(),p.TgZ(7,"th",33),p._uU(8,"Current Level"),p.qZA(),p.TgZ(9,"th",33),p._uU(10,"Recomendation"),p.qZA(),p.TgZ(11,"th",31),p._uU(12,"Parameter"),p.qZA(),p.qZA())}function k(t,e){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",31),p._uU(2),p.qZA(),p.TgZ(3,"td",30),p._uU(4),p.qZA(),p.TgZ(5,"td",30),p._uU(6),p.qZA(),p.TgZ(7,"td",31),p._uU(8),p.qZA(),p.TgZ(9,"td",31),p._uU(10),p.qZA(),p.TgZ(11,"td",30),p._uU(12),p.qZA(),p.qZA()),2&t){const t=e.$implicit,n=e.rowIndex;p.xp6(2),p.Oqu(n+1),p.xp6(2),p.Oqu(t.dimensi),p.xp6(2),p.Oqu(t.kriteria),p.xp6(2),p.Oqu(t.current_value),p.xp6(2),p.Oqu(t.level),p.xp6(2),p.Oqu(t.parameter)}}function x(t,e){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",31),p._uU(2," Data tidak Tersedia "),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.uIk("colspan",6))}const y=function(){return{width:"100%"}},U=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.activeRoute=t,this.service=e,this.messageService=n,this.route=i,this.helper=o,this.survey_token="",this.answer_token="",this.infoKop=[],this.list1=[],this.list2=[],this.list3=[],this.data1={labels:[],datasets:[]},this.horizontalOptions={indexAxis:"y",plugins:{legend:{labels:{color:"#495057"}}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"},max:5},y:{ticks:{color:"#495057"},grid:{color:"#ebedef"}}}},this.radarOptions={plugins:{legend:{labels:{font:{size:16}}}},scales:{r:{pointLabels:{font:{size:18}},ticks:{font:{size:16}}}}},this.survey_token=this.activeRoute.snapshot.queryParamMap.get("survey_token"),this.answer_token=this.activeRoute.snapshot.queryParamMap.get("answer_token"),this.survey_token&&this.survey_token?(this.getInfoKop(),this.getPositioning(),this.getDimensiPositioning(),this.getOfiUser()):this.route.navigate(["/login"])}ngOnInit(){}getInfoKop(){this.survey_token&&this.answer_token&&this.service.info_kop({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{t.data.length>0&&(this.infoKop=t.data,this.infoKop[4].value=new Date(this.infoKop[4].value.replace(" ","T")))},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}getPositioning(){this.survey_token&&this.answer_token&&this.service.smi_positioning({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{if(t.data.length>0){this.list1=t.data,this.data1={labels:[],datasets:[]};let e=JSON.parse(JSON.stringify(this.list1));e.sort((t,e)=>e.index_smi_total-t.index_smi_total),this.data1.labels=e.map(t=>t.name);const n=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],i=e.map((t,e)=>n[e%n.length]);this.data1.datasets.push({label:"SMI BENCHMARK",backgroundColor:i,data:e.map(t=>t.index_smi_total)})}},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}getDimensiPositioning(){this.survey_token&&this.answer_token&&this.service.dimensi_smi_positioning({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{t.data.length>0&&(this.list2=t.data,this.radarData={labels:["Strategy","Partnership","Motivation","Competencies","Communication","Technology","Operation"],datasets:[]},this.list2.forEach(t=>{this.radarData.datasets.push({label:t.company.toUpperCase(),backgroundColor:`rgba(${(0,a.GS)()},0.2)`,borderColor:`rgba(${(0,a.GS)()},1)`,data:[t.dimensi_1,t.dimensi_2,t.dimensi_3,t.dimensi_4,t.dimensi_5,t.dimensi_6,t.dimensi_7]})}))},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}getOfiUser(){this.survey_token&&this.answer_token&&this.service.ofi_user({survey_token:this.survey_token,answer_token:this.answer_token}).subscribe(t=>{t.data.length>0&&(this.list3=t.data)},t=>{this.messageService.add({key:"toast-notif",severity:"error",summary:"Error",detail:t.error})})}print(){const t=document.getElementById("printArea");r()(t).then(t=>{const e=208*t.height/t.width;let n=e;const i=t.toDataURL("image/png"),o=new g.default("p","mm","a4");let a=0;for(o.addImage(i,"PNG",0,a,208,e),n-=295;n>0;)a-=295,o.addPage(),o.addImage(i,"PNG",0,a,208,e),n-=295;o.save("hasil-penilaian-SMI.pdf")})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(o.gz),p.Y36(d.r),p.Y36(l.ez),p.Y36(o.F0),p.Y36(Z.$))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-survey-preview"]],decls:79,vars:31,consts:[["id","printArea",1,"layout-wrapper"],[1,"container-result"],[1,"content"],[1,"kop"],[1,"title-kop"],[2,"font-weight","bold"],[1,"content-kop"],[1,"p-grid","p-fluid"],[1,"p-md-12","p-lg-8"],[1,"p-md-12","p-lg-4"],[1,"card"],["href","mailto:info@sc-academy.id"],[1,"main-content"],[1,"section_1"],["styleClass","p-datatable-gridlines p-datatable-striped",3,"value","paginator","rowHover","rows","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"p-md-12","p-lg-8","area-bar"],["type","bar",3,"data","options","height"],[1,"section_2"],[1,"p-col-12"],["responsiveLayout","scroll","styleClass","p-datatable-gridlines p-datatable-striped",3,"value","paginator","rowHover","rows","showCurrentPageReport"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"p-d-flex","p-justify-center","chart-radar"],["type","radar",3,"data","options"],[1,"section_3"],[2,"width","60%","text-align","center"],[2,"width","40%","text-align","center"],[2,"text-align","left"],[2,"text-align","center"],[2,"width","30%","text-align","center"],[2,"width","10%","text-align","center"],[2,"width","7%","text-align","center"],[2,"width","15%","text-align","center"],[2,"width","20%","text-align","center"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"h2"),p._uU(6,"SELF ASSESMENT SUSTAINABILITY MATURITY INDEX"),p.qZA(),p.TgZ(7,"p",5),p._uU(8),p.qZA(),p.TgZ(9,"p"),p._uU(10),p.qZA(),p.qZA(),p.TgZ(11,"div",6),p.TgZ(12,"div",7),p.TgZ(13,"div",8),p.TgZ(14,"table"),p.TgZ(15,"tr"),p.TgZ(16,"td"),p._uU(17,"Date Of Assessment"),p.qZA(),p.TgZ(18,"td"),p._uU(19,":"),p.qZA(),p.TgZ(20,"td"),p._uU(21),p.ALo(22,"date"),p.qZA(),p.qZA(),p.TgZ(23,"tr"),p.TgZ(24,"td"),p._uU(25,"User Assesment"),p.qZA(),p.TgZ(26,"td"),p._uU(27,":"),p.qZA(),p.TgZ(28,"td"),p._uU(29),p.qZA(),p.qZA(),p.TgZ(30,"tr"),p.TgZ(31,"td"),p._uU(32,"Email"),p.qZA(),p.TgZ(33,"td"),p._uU(34,":"),p.qZA(),p.TgZ(35,"td"),p._uU(36),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(37,"div",9),p.TgZ(38,"div",10),p.TgZ(39,"p"),p._uU(40,"Diclaimer:"),p.qZA(),p._UZ(41,"p"),p.TgZ(42,"p"),p._uU(43,"The results of this SMI Self-Assessment are still at a basic level. For more comprehensive results, please contact us at "),p.TgZ(44,"a",11),p._uU(45,"info@sc-academy.id"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(46,"hr"),p.qZA(),p.qZA(),p.TgZ(47,"div",12),p.TgZ(48,"div",13),p.TgZ(49,"div",7),p.TgZ(50,"div",9),p.TgZ(51,"p-table",14,15),p.YNc(53,_,5,0,"ng-template",16),p.YNc(54,m,5,2,"ng-template",17),p.YNc(55,q,3,1,"ng-template",18),p.qZA(),p.qZA(),p.TgZ(56,"div",19),p._UZ(57,"p-chart",20),p.qZA(),p.qZA(),p.qZA(),p.TgZ(58,"div",21),p.TgZ(59,"div",7),p.TgZ(60,"div",22),p.TgZ(61,"p-table",23),p.YNc(62,A,17,0,"ng-template",16),p.YNc(63,T,17,8,"ng-template",17),p.YNc(64,v,3,1,"ng-template",18),p.qZA(),p.qZA(),p.TgZ(65,"div",22),p.TgZ(66,"div",24),p.TgZ(67,"div",25),p._UZ(68,"p-chart",26),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(69,"div",27),p.TgZ(70,"div",7),p.TgZ(71,"div",22),p.TgZ(72,"label",5),p._uU(73,"Opportunity For Improvement "),p.qZA(),p.qZA(),p.TgZ(74,"div",22),p.TgZ(75,"p-table",23),p.YNc(76,f,13,0,"ng-template",16),p.YNc(77,k,13,6,"ng-template",17),p.YNc(78,x,3,1,"ng-template",18),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(8),p.Oqu(e.infoKop.length>0?e.infoKop[0].value:""),p.xp6(2),p.hij("Sector ",e.infoKop.length>0?e.infoKop[1].value:"",""),p.xp6(11),p.Oqu(e.infoKop.length>0?p.xi3(22,27,e.infoKop[4].value,"medium"):null),p.xp6(8),p.Oqu(e.infoKop.length>0?e.infoKop[2].value:""),p.xp6(7),p.Oqu(e.infoKop.length>0?e.infoKop[3].value:""),p.xp6(15),p.Q6J("value",e.list1)("paginator",!1)("rowHover",!0)("rows",10)("showCurrentPageReport",!0),p.xp6(6),p.Q6J("data",e.data1)("options",e.horizontalOptions)("height","250"),p.xp6(4),p.Q6J("value",e.list2)("paginator",!1)("rowHover",!0)("rows",10)("showCurrentPageReport",!0),p.xp6(7),p.Akn(p.DdM(30,y)),p.Q6J("data",e.radarData)("options",e.radarOptions),p.xp6(7),p.Q6J("value",e.list3)("paginator",!1)("rowHover",!0)("rows",50)("showCurrentPageReport",!0))},directives:[u.iA,l.jx,c.C],pipes:[h.uU],styles:["body{background-color:#f2f2f2}  .p-datatable-table .p-datatable-thead tr th{color:#fff;background:#099!important}.kop[_ngcontent-%COMP%]{grid-gap:20px;gap:20px}.kop[_ngcontent-%COMP%], .kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]{display:flex;flex-direction:column}.kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]{grid-gap:0;gap:0;align-items:flex-start}.kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .kop[_ngcontent-%COMP%]   .title-kop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0!important}.kop[_ngcontent-%COMP%]   .content-kop[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:2px solid}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px;gap:20px}.area-bar[_ngcontent-%COMP%]{max-height:500px;background:#fff}.floating-print[_ngcontent-%COMP%]{position:fixed;top:0;right:0;background-color:#f1f1f1;padding:10px;box-shadow:0 2px 5px #0003;z-index:99999999}.chart-radar[_ngcontent-%COMP%]{width:50%}@media (max-width:768px){.title-kop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1em}.title-kop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em}.title-kop[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title-kop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0!important}.content-kop[_ngcontent-%COMP%]{font-size:.6rem}.chart-radar[_ngcontent-%COMP%]{width:100%}}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[o.Bz.forChild(U)],o.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[l.ez],imports:[[i.I,O]]}),t})()}}]);